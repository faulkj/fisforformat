window.Date.prototype.f=function(format){if(""===this||"NaN"==this)return"Invalid Date";if("@"==format)return this.getTime();if("REL"==format){var LZ=((new Date).getTime()-this.getTime())/1e3,midnight=Math.floor(LZ/86400);return 0===midnight&&((-60<LZ?"right now":-120<LZ&&"1 minute from now")||-3600<LZ&&-Math.floor(LZ/60)+" minutes from now"||-7200<LZ&&"1 hour ago"||-86400<LZ&&-Math.floor(LZ/3600)+" hours from now"||LZ<60&&"just now"||LZ<120&&"1 minute ago"||LZ<3600&&Math.floor(LZ/60)+" minutes ago"||LZ<7200&&"1 hour ago"||LZ<86400&&Math.floor(LZ/3600)+" hours ago")||0===midnight&&"Tomorrow"||-7<midnight&&-midnight+" days from now"||1==-Math.ceil(midnight/7)&&"1 week from now"||-78<midnight&&-Math.ceil(midnight/7)+" weeks from now"||-730<midnight&&-Math.ceil(midnight/30)+" months from now"||midnight<=-730&&-Math.ceil(midnight/365)+" years from now"||1==midnight&&"Yesterday"||midnight<7&&midnight+" days ago"||1==Math.ceil(midnight/7)&&"1 week ago"||midnight<78&&Math.ceil(midnight/7)+" weeks ago"||midnight<730&&Math.ceil(midnight/30)+" months ago"||Math.ceil(midnight/365)+" years ago"}var c,MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],result="",i_format=0,token="",y=this.getYear()+"",M=this.getMonth()+1,d=this.getDate(),E=this.getDay(),D=this.getDay(),H=this.getHours(),m=this.getMinutes(),s=this.getSeconds(),n=this.getMilliseconds(),LZ=function(x){return(x<0||9<x?"":"0")+x},midnight=new Date;if(!MONTH_NAMES[M-1])return"Invalid Date";format+="",midnight.setHours(0),midnight.setMinutes(0),midnight.setSeconds(0),midnight.setMilliseconds(0);for(var value={y:""+(y=y.length<4?""+(+y+1900):y),yyyy:y,yy:(y+"").substr(2,4),M:M,MM:LZ(M),MMM:MONTH_NAMES[M-1],NNN:MONTH_NAMES[M-1].substr(0,3),N:MONTH_NAMES[M-1].substr(0,1),d:d,dd:LZ(d),e:DAY_NAMES[E].substr(0,1),ee:DAY_NAMES[E].substr(0,2),E:DAY_NAMES[E].substr(0,3),EE:DAY_NAMES[E],D:this.getTime()>=midnight.getTime()&&this.getTime()<midnight.getTime()+864e5?"Today":DAY_NAMES[D].substr(0,3),DD:this.getTime()>=midnight.getTime()&&this.getTime()<midnight.getTime()+864e5?"Today":DAY_NAMES[D],H:H,HH:LZ(H),h:0===H?12:12<H?H-12:H,hh:LZ(0===H?12:12<H?H-12:H),k:H+1,kk:LZ(H+1),K:11<H?H-12:H,KK:LZ(11<H?H-12:H),m:m,mm:LZ(m),s:s,ss:LZ(s),n:n,a:11<H?"PM":"AM"};i_format<format.length;){for(c=format.charAt(i_format),token="";format.charAt(i_format)==c&&i_format<format.length;)token+=format.charAt(i_format++);result+=null!=value[token]?value[token]:token}return result},window.Date.prototype.diff=function(date,options){if(void 0===date)date=new Date;else if("string"==typeof date||"number"==typeof date){if("Invalid Date"==new Date(date)||"NaN"==new Date(date))return console.log("Invalid diff comparison date: "+date),!1;date=new Date(date)}else"object"!=typeof date||date.getTime||(options=date,date=new Date);options={breakdown:(options=(options="string"==typeof options?{breakdown:options}:options)||{}).breakdown||"TCDYMWdHmSN",divider:options.divider||", ",abbr:options.abbr||!1,same:options.same||"Same",zeros:options.zeros||!1,labels:options.hasOwnProperty("labels")?options.labels:{T:["Millennium","Millennia","ml"],C:["Century","Centuries","c"],D:["Decade","Decades","d"],Y:["Year","Years","yr"],M:["Month","Months","mo"],W:["Week","Weeks","wk"],d:["Day","Days","d"],H:["Hour","Hours","hr"],m:["Minute","Minutes","m"],S:["Second","Seconds","s"],N:["Millisecond","Milliseconds","ms"]}};for(var min=date<=this&&date||this<date&&this,diff=(this<date&&date||date<=this&&this).getTime()-min.getTime(), tl={T:31536e9,C:31536e8,D:31536e7,Y:31536e6,M:2592e6,W:6048e5,d:864e5,H:36e5,m:6e4,S:1e3,N:1},result=[],i=0;i<options.breakdown.length;i++){var res=Math.floor(diff/tl[options.breakdown.charAt(i)]);(res||options.zeros)&&(options.zeros&&"N"==options.breakdown.charAt(i)&&(res<10?res="00"+res:res<100&&(res="0"+res)),result.push(res+(options.labels?" "+options.labels[options.breakdown.charAt(i)][options.abbr?2:1==res?0:1]:"")),diff%=tl[options.breakdown.charAt(i)])}return""===(diff=result.join(options.divider))&&(diff=options.same),diff=options.lc?diff.toLowerCase():diff},window.Date.prototype.when=function(){var now=new Date,ts=this.f("MMM d, yyyy h:mm a"),nowSec=now.getTime()/1e3,tsSec=this.getTime()/1e3;return nowSec-tsSec<60?ts="Now":(nowSec-tsSec)/60<60?ts=this.diff(now,"m"):(nowSec-tsSec)/60/60<12?ts=this.diff(now,"H"):now.f("yyyyMMdd")==this.f("yyyyMMdd")?ts="Today"+this.f("h:mm a"):tsSec>new Date(new Date(now.f("MM/dd/yyyy 00:00:00")).setDate(now.getDate()-1)).getTime()/1e3?ts="Yesterday "+this.f("h:mm a"):tsSec>new Date(new Date(now.f("MM/dd/yyyy 00:00:00")).setDate(now.getDate()-now.getDay())).getTime()/1e3?ts=this.f("EE h:mm a"):tsSec>new Date((new Date).getFullYear(),0,1).getTime()/1e3&&(ts=this.f("MMM d h:mm a")),ts},window.Date.prototype.getDaysInMonth=function(){return[31,28,31,30,31,30,31,31,30,31,30,31][this.getMonth()]},window.Date.prototype.isLeapYear=function(){return 29==new Date(this.getFullYear(),1,29).getDate()},window.Date.prototype.getDayLightSavingsDays=function(){for(var result=[],day1=new Date("03/07/"+this.getFullYear()),day2=new Date("03/06/"+this.getFullYear());day1.getMonth()<3||3==day1.getMonth()&&day1.getDate()<16;)(day1.getTime()-day2.getTime())/1e3/60/60!=24&&(result[result.length]=new Date(day2.getTime())),day1.setDate(day1.getDate()+1),day2.setDate(day2.getDate()+1);for(day1=new Date("10/31/"+this.getFullYear()),day2=new Date("10/30/"+this.getFullYear());day1.getMonth()<11||10==day1.getMonth()&&day1.getDate()<9;)(day1.getTime()-day2.getTime())/1e3/60/60!=24&&(result[result.length]=new Date(day2.getTime())),day1.setDate(day1.getDate()+1),day2.setDate(day2.getDate()+1);return result},window.Date.prototype.isDayLightSavingsDay=function(){var comp=new Date(this.getTime());return comp.setDate(comp.getDate()+1),(comp.getTime()-this.getTime())/1e3/60/60!=24};
//# sourceMappingURL=date.f.min.js.map