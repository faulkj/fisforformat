window.Date.prototype.f=function(format){if(""===this||"NaN"==this)return"Invalid Date";if("@"==format)return this.getTime();if("REL"==format){var today=((new Date).getTime()-this.getTime())/1e3,yesterday=Math.floor(today/86400);return 0===yesterday&&((-60<today?"right now":-120<today&&"1 minute from now")||-3600<today&&-Math.floor(today/60)+" minutes from now"||-7200<today&&"1 hour ago"||-86400<today&&-Math.floor(today/3600)+" hours from now"||today<60&&"just now"||today<120&&"1 minute ago"||today<3600&&Math.floor(today/60)+" minutes ago"||today<7200&&"1 hour ago"||today<86400&&Math.floor(today/3600)+" hours ago")||0===yesterday&&"Tomorrow"||-7<yesterday&&-yesterday+" days from now"||1==-Math.ceil(yesterday/7)&&"1 week from now"||-78<yesterday&&-Math.ceil(yesterday/7)+" weeks from now"||-730<yesterday&&-Math.ceil(yesterday/30)+" months from now"||yesterday<=-730&&-Math.ceil(yesterday/365)+" years from now"||1==yesterday&&"Yesterday"||yesterday<7&&yesterday+" days ago"||1==Math.ceil(yesterday/7)&&"1 week ago"||yesterday<78&&Math.ceil(yesterday/7)+" weeks ago"||yesterday<730&&Math.ceil(yesterday/30)+" months ago"||Math.ceil(yesterday/365)+" years ago"}function LZ(x,p){return("00"+x).slice(-(p=p||2))}var c,MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],result="",i_format=0,token="",y=this.getFullYear(),M=this.getMonth()+1,d=this.getDate(),E=this.getDay(),D=this.getDay(),H=this.getHours(),m=this.getMinutes(),s=this.getSeconds(),n=this.getMilliseconds(),tz=this.toTimeString().replace(")","").split("(")[1],tzO=this.toTimeString().split(" ")[1].replace("GMT",""),tomorrow=new Date;if(!MONTH_NAMES[M-1])return"Invalid Date";format+="",tomorrow.setHours(0),tomorrow.setMinutes(0),tomorrow.setSeconds(0),tomorrow.setMilliseconds(0);today=this.getTime()>=tomorrow.getTime()&&this.getTime()<tomorrow.getTime()+864e5,yesterday=new Date(tomorrow),tomorrow=new Date(tomorrow);yesterday.setDate(-1),yesterday=this.getTime()>=yesterday.getTime()&&this.getTime()<yesterday.getTime()+864e5,tomorrow.setDate(1);var tomorrow=this.getTime()>=tomorrow.getTime()&&this.getTime()<tomorrow.getTime()+864e5,value={d:LZ(d),D:DAY_NAMES[E].substr(0,3),j:d,l:DAY_NAMES[E],ll:today?"Today":yesterday?"Yesterday":tomorrow?"Tomorrow":DAY_NAMES[D],N:E+1,S:d+(d%10==1&&11!=d?"st":d%10==2&&12!=d?"nd":d%10==3&&13!=d?"rd":"th"),w:E,z:this.diff(new Date(y,0,1),{units:"d",labels:!1}),W:Math.ceil(parseInt(this.diff(new Date(y,0,1),{units:"d",labels:!1}))/7),F:MONTH_NAMES[M-1],m:LZ(M),M:MONTH_NAMES[M-1].substr(0,3),n:M,t:this.getDaysInMonth(),L:this.isLeapYear(),Y:y,y:(y+"").substr(2,4),a:11<H?"pm":"am",A:11<H?"PM":"AM",B:Math.floor(1e3*((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)/24),g:0===H?12:12<H?H-12:H,G:H,h:LZ(0===H?12:12<H?H-12:H),H:LZ(H),i:LZ(m),ii:m,s:LZ(s),ss:s,v:n,vv:LZ(n,3),e:tz,I:this.isDayLightSavings(),O:tzO,P:tzO.slice(0,3)+":"+tzO.slice(3,5),p:0==parseInt(tzO)?"Z":tzO.slice(0,3)+":"+tzO.slice(3,5),Z:60*parseInt(tzO.slice(0,3))*60+60*parseInt(tzO.slice(3,5)),c:this.toISOString(),U:this.getTime()};for(value.r=value.D+", "+value.d+" "+value.M+" "+value.H+":"+value.i+":"+value.s+" "+value.O;i_format<format.length;){for(c=format.charAt(i_format),token="";format.charAt(i_format)==c&&i_format<format.length;)token+=format.charAt(i_format++);null!=value[token]?result+=value[token]:result+=token}return result},window.Date.prototype.diff=function(date,settings){if(void 0===date)date=new Date;else if("string"==typeof date&&!/\d/.test(date)||"object"==typeof date&&!date.getTime)settings=date,date=new Date;else if("string"==typeof date||"number"==typeof date){if("Invalid Date"==new Date(date)||"NaN"==new Date(date))return console.log("Invalid diff comparison date: "+date),!1;date=new Date(date)}"*"==(settings={abbr:(settings=(settings="string"==typeof settings?{units:settings}:settings)||{}).abbr||!1,divider:settings.divider||", ",labels:settings.hasOwnProperty("labels")?settings.labels:{T:["Millennium","Millennia","ml"],C:["Century","Centuries","c"],D:["Decade","Decades","d"],Y:["Year","Years","yr"],M:["Month","Months","mo"],W:["Week","Weeks","wk"],d:["Day","Days","d"],H:["Hour","Hours","hr"],m:["Minute","Minutes","m"],S:["Second","Seconds","s"],N:["Millisecond","Milliseconds","ms"]},same:settings.same||"Same",units:settings.units||"*",zeros:settings.zeros||!1}).units&&(settings.units="TCDYMWdHmSN");for(var min=date<=this&&date||this<date&&this,diff=(this<date&&date||date<=this&&this).getTime()-min.getTime(),tl={T:31536e9,C:31536e8,D:31536e7,Y:31536e6,M:2592e6,W:6048e5,d:864e5,H:36e5,m:6e4,S:1e3,N:1},result=[],i=0;i<settings.units.length;i++){var res=Math.floor(diff/tl[settings.units.charAt(i)]);(res||settings.zeros)&&(settings.zeros&&"N"==settings.units.charAt(i)&&(res<10?res="00"+res:res<100&&(res="0"+res)),result.push(res+(settings.labels?" "+settings.labels[settings.units.charAt(i)][settings.abbr?2:1==res?0:1]:"")),diff%=tl[settings.units.charAt(i)])}return""===(diff=result.join(settings.divider))&&(diff=settings.same),diff=settings.lc?diff.toLowerCase():diff},window.Date.prototype.when=function(){var now=new Date,ts=this.f("F j, Y g:i a"),nowSec=now.getTime()/1e3,tsSec=this.getTime()/1e3;return nowSec-tsSec<60?ts="Now":(nowSec-tsSec)/60<60?ts=this.diff(now,"m"):(nowSec-tsSec)/60/60<12?ts=this.diff(now,"H"):now.f("Ymd")==this.f("Ymd")?ts="Today"+this.f("g:i a"):tsSec>new Date(new Date(now.f("m/d/Y 00:00:00")).setDate(now.getDate()-1)).getTime()/1e3?ts="Yesterday "+this.f("g:i a"):tsSec>new Date(new Date(now.f("m/d/Y 00:00:00")).setDate(now.getDate()-now.getDay())).getTime()/1e3?ts=this.f("l g:i a"):tsSec>new Date((new Date).getFullYear(),0,1).getTime()/1e3&&(ts=this.f("F j g:i a")),ts},window.Date.prototype.getDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth(),0).getDate()},window.Date.prototype.isLeapYear=function(){return 29==new Date(this.getFullYear(),1,29).getDate()},window.Date.prototype.isDayLightSavings=function(){return this.getTimezoneOffset()<Math.max(new Date(this.getFullYear(),0,1).getTimezoneOffset(),new Date(this.getFullYear(),6,1).getTimezoneOffset())},window.Date.prototype.getDaylightSavingsDays=function(){for(var result=[],day1=new Date("03/07/"+this.getFullYear()),day2=new Date("03/06/"+this.getFullYear());day1.getMonth()<3||3==day1.getMonth()&&day1.getDate()<16;)(day1.getTime()-day2.getTime())/1e3/60/60!=24&&(result[result.length]=new Date(day2.getTime())),day1.setDate(day1.getDate()+1),day2.setDate(day2.getDate()+1);for(day1=new Date("10/31/"+this.getFullYear()),day2=new Date("10/30/"+this.getFullYear());day1.getMonth()<11||10==day1.getMonth()&&day1.getDate()<9;)(day1.getTime()-day2.getTime())/1e3/60/60!=24&&(result[result.length]=new Date(day2.getTime())),day1.setDate(day1.getDate()+1),day2.setDate(day2.getDate()+1);return result},window.Date.prototype.isDaylightSavingsDay=function(){var comp=new Date(this.getTime());return comp.setDate(comp.getDate()+1),(comp.getTime()-this.getTime())/1e3/60/60!=24};
//# sourceMappingURL=date.f.min.js.map